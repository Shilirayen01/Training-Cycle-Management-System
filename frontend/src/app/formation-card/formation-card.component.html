<div class="bg-[#001F3F] text-white rounded-xl shadow-2xl overflow-hidden transform transition-all duration-300 hover:translate-y-[-8px] hover:shadow-2xl hover:shadow-blue-900/30 cursor-pointer border border-blue-900/20">
  <!-- Image avec overlay et effet de zoom au hover -->
  <div class="relative overflow-hidden">
    <img src="../../assets/data-Science.jpg" class="w-full h-56 object-cover transition-transform duration-300 hover:scale-110">
    <div class="absolute inset-0 bg-gradient-to-t from-[#001F3F] to-transparent opacity-50"></div>
  </div>

  <div class="p-8">
    <!-- Titre avec effet de soulignement au hover -->
    <h2 class="text-2xl font-bold text-white mb-6 relative inline-block">
      {{ formation.theme }}
      <span class="absolute bottom-[-4px] left-0 w-0 h-[2px] bg-blue-400 transition-all duration-300 group-hover:w-full"></span>
    </h2>

    <!-- Section des informations avec un style plus moderne -->
    <div class="space-y-6">
      <div class="bg-blue-900/30 p-4 rounded-lg">
        <label class="text-sm font-semibold text-blue-200">Numéro de Salle</label>
        <p class="text-lg text-white">{{ formation.numSalle }}</p>
      </div>

      <div class="grid grid-cols-2 gap-4">
        <div class="bg-blue-900/30 p-4 rounded-lg">
          <label class="text-sm font-semibold text-blue-200">Date de début</label>
          <p class="text-lg text-white">{{ formation.dateDebut }}</p>
        </div>
        <div class="bg-blue-900/30 p-4 rounded-lg">
          <label class="text-sm font-semibold text-blue-200">Date de fin</label>
          <p class="text-lg text-white">{{ formation.dateFin }}</p>
        </div>
      </div>

      <div class="grid grid-cols-2 gap-4">
        <div class="bg-blue-900/30 p-4 rounded-lg">
          <label class="text-sm font-semibold text-blue-200">Horaire de début</label>
          <p class="text-lg text-white">{{ formation.horaireDebut }}</p>
        </div>
        <div class="bg-blue-900/30 p-4 rounded-lg">
          <label class="text-sm font-semibold text-blue-200">Horaire de fin</label>
          <p class="text-lg text-white">{{ formation.horaireFin }}</p>
        </div>
      </div>
    </div>

    <!-- Boutons avec des effets améliorés -->
    <div class="mt-8">
      <button
        *ngIf="!hasRegistered"
        (click)="showForm()"
        class="bg-blue-600 text-white px-6 py-3 rounded-lg w-full hover:bg-blue-700 focus:outline-none transition duration-300 transform hover:scale-[1.02] shadow-lg hover:shadow-blue-500/50"
      >
        S'inscrire
      </button>
      <button
        *ngIf="hasRegistered"
        (click)="rateFormation()"
        class="bg-yellow-500 text-white px-6 py-3 rounded-lg w-full hover:bg-yellow-600 focus:outline-none transition duration-300 transform hover:scale-[1.02] shadow-lg hover:shadow-yellow-500/50"
      >
        Noter la formation
      </button>
    </div>
  </div>
</div>



<!-- Formulaire d'inscription -->
<div
  *ngIf="isFormVisible"
  class="fixed inset-0 bg-blue-900 bg-opacity-50 flex justify-center items-center z-50"
>
  <div class="bg-white p-8 rounded-lg shadow-lg w-full max-w-3xl relative">
    <button
      (click)="showForm()"
      class="absolute top-4 right-4 text-blue-900 font-bold text-xl"
    >
      X
    </button>
    <h2 class="text-2xl font-bold mb-4 text-blue-900">
      Formulaire d'Inscription
    </h2>

    <form #registrationForm="ngForm" class="space-y-4" (ngSubmit)="onSubmit(registrationForm , formation.id)">
      <!-- Champs du formulaire -->
      <input
        type="text"
        name="nom"
        placeholder="Nom"
        class="w-full p-2 border border-blue-900 rounded mb-2 focus:ring-2 focus:ring-blue-500"
        required
        ngModel
      />
      <input
        type="text"
        name="prenom"
        placeholder="Prénom"
        class="w-full p-2 border border-blue-900 rounded mb-2 focus:ring-2 focus:ring-blue-500"
        required
        ngModel
      />
      <input
        type="text"
        name="nom_ar"
        placeholder="الاسم"
        class="w-full p-2 border border-blue-900 rounded mb-2 focus:ring-2 focus:ring-blue-500"
        required
        ngModel
      />
      <input
        type="text"
        name="prenom_ar"
        placeholder="اللقب"
        class="w-full p-2 border border-blue-900 rounded mb-2 focus:ring-2 focus:ring-blue-500"
        required
        ngModel
      />
      <input
        type="text"
        name="cin"
        placeholder="Numéro CIN"
        class="w-full p-2 border border-blue-900 rounded mb-2 focus:ring-2 focus:ring-blue-500"
        required
        ngModel
      />
      <input
        type="text"
        name="direction"
        placeholder="Direction / Service"
        class="w-full p-2 border border-blue-900 rounded mb-2 focus:ring-2 focus:ring-blue-500"
        required
        ngModel
      />
      <input
        type="text"
        name="entreprise"
        placeholder="Entreprise"
        class="w-full p-2 border border-blue-900 rounded mb-2 focus:ring-2 focus:ring-blue-500"
        required
        ngModel
      />
      <input
        type="text"
        name="gouvernorat"
        placeholder="Gouvernorat"
        class="w-full p-2 border border-blue-900 rounded mb-2 focus:ring-2 focus:ring-blue-500"
        required
        ngModel
      />
      <input
        type="text"
        name="dates"
        placeholder="Ex: 20-30 Janvier 2025"
        class="w-full p-2 border border-blue-900 rounded mb-2 focus:ring-2 focus:ring-blue-500"
        required
        ngModel
      />

      <!-- Boutons Envoyer et Annuler -->
      <div class="flex justify-between mt-4">
        <button
          type="button"
          class="bg-blue-700 text-white px-4 py-2 rounded hover:bg-blue-800"
          (click)="cancelRegistration()"
        >
          Annuler
        </button>
        <button
          (click)="onSubmit(registrationForm, formation?.id)"
          type="submit"
          [disabled]="!registrationForm.valid"
          class="bg-blue-900 text-white px-4 py-2 rounded hover:bg-blue-950"
        >
          Envoyer
        </button>
      </div>
    </form>
  </div>
</div>


<!-- Message d'alerte de succès -->
<div
  *ngIf="isSuccessVisible"
  class="fixed inset-0 bg-gray-700 bg-opacity-50 flex justify-center items-center z-50"
>
  <div class="bg-white p-8 rounded-lg shadow-lg w-full max-w-md text-center">
    <h2 class="text-2xl font-bold text-green-600 mb-4">Inscription réussie !</h2>
    <p class="text-gray-700 mb-4">Votre inscription a été enregistrée avec succès.</p>
    <button
      (click)="closeSuccessMessage()"
      class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"
    >
      OK
    </button>
  </div>
</div>


<!-- Section de notation -->
<div
  *ngIf="isRatingVisible"
  class="fixed inset-0 bg-gray-700 bg-opacity-50 flex justify-center items-center z-50"
>
  <div class="bg-white p-8 rounded-lg shadow-lg w-full max-w-4xl relative">
    <button (click)="closeRating()" class="absolute top-4 right-4 text-gray-500 font-bold text-xl">X</button>
    <h2 class="text-2xl font-bold mb-4">Noter la Formation</h2>

<app-evaluation-form></app-evaluation-form>

</div>
